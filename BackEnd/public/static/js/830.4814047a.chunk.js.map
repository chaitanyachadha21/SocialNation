{"version":3,"file":"static/js/830.4814047a.chunk.js","mappings":"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","sources":["places/pages/UpdatePlace.js","shared/FormElements/Input.js","shared/components/UIElements/Card.js","shared/components/UIElements/ErrorModal.js","shared/components/UIElements/Modal.js","shared/hooks/form-hook.js","shared/hooks/http-hook.js","shared/util/validators.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\n\r\nimport Input from '../../shared/FormElements/Input';\r\nimport Button from '../../shared/FormElements/Button';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport Card from '../../shared/components/UIElements/Card';\r\n\r\nimport {\r\n  VALIDATOR_REQUIRE,\r\n  VALIDATOR_MINLENGTH\r\n} from '../../shared/util/validators';\r\nimport { useForm } from '../../shared/hooks/form-hook';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport './PlaceForm.css';\r\n\r\n\r\n\r\nconst UpdatePlace = () => {\r\n  const auth = useContext(AuthContext);\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const [loadedPlace, setLoadedPlace] = useState();\r\n    const placeId = useParams().placeId;\r\n    const history = useHistory();\r\n\r\n  \r\n  const [formState, inputHandler , setFormData] = useForm(\r\n    {\r\n      title: {\r\n        value: '',\r\n        isValid: false\r\n      },\r\n      description: {\r\n        value: '',\r\n        isValid: false\r\n      }\r\n    },\r\n    false\r\n  );\r\n\r\n\r\n useEffect(() => {\r\n     const fetchPlace = async () => {\r\n       try {\r\n         const responseData = await sendRequest(\r\n           `${process.env.REACT_APP_BACKEND_URL}/places/${placeId}`\r\n         );\r\n         setLoadedPlace(responseData.place);\r\n         setFormData(\r\n           {\r\n             title: {\r\n               value: responseData.place.title,\r\n               isValid: true\r\n             },\r\n             description: {\r\n               value: responseData.place.description,\r\n               isValid: true\r\n             }\r\n           },\r\n           true\r\n         );\r\n \r\n       } catch (err) {}\r\n     };\r\n     fetchPlace();\r\n   }, [sendRequest, placeId, setFormData]);\r\n \r\n   const placeUpdateSubmitHandler = async event => {\r\n     event.preventDefault();\r\n     try {\r\n       await sendRequest(\r\n         `${process.env.REACT_APP_BACKEND_URL}/places/${placeId}`,\r\n         'PATCH',\r\n         JSON.stringify({\r\n           title: formState.inputs.title.value,\r\n           description: formState.inputs.description.value\r\n         }),\r\n         {\r\n           'Content-Type': 'application/json',\r\n           Authorization : 'Bearer ' + auth.token\r\n         }\r\n       );\r\n       history.push(`/places/user/${auth.userId}`);\r\n     } catch (err) {}\r\n   };\r\n \r\n   if (isLoading) {\r\n     return (\r\n       <div className=\"center\">\r\n         <LoadingSpinner />\r\n       </div>\r\n     );\r\n   }\r\n \r\n   if (!loadedPlace && !error) {\r\n     return (\r\n       <div className=\"center\">\r\n         <Card>\r\n           <h2>Could not find place!</h2>\r\n         </Card>\r\n       </div>\r\n     );\r\n   }\r\n \r\n  \r\n\r\n    return (\r\n      <>\r\n       <ErrorModal error={error} onClear={clearError} />\r\n             {!isLoading && loadedPlace && (\r\n               <form className=\"place-form\" onSubmit={placeUpdateSubmitHandler}>\r\n                 <Input\r\n                   id=\"title\"\r\n                   element=\"input\"\r\n                   type=\"text\"\r\n                   label=\"Title\"\r\n                   validators={[VALIDATOR_REQUIRE()]}\r\n                   errorText=\"Please enter a valid title.\"\r\n                   onInput={inputHandler}\r\n                   initialValue={loadedPlace.title}\r\n                   initialValid={true}\r\n                 />\r\n                 <Input\r\n                   id=\"description\"\r\n                   element=\"textarea\"\r\n                   label=\"Description\"\r\n                   validators={[VALIDATOR_MINLENGTH(5)]}\r\n                   errorText=\"Please enter a valid description (min. 5 characters).\"\r\n                   onInput={inputHandler}\r\n                   initialValue={loadedPlace.description}\r\n                   initialValid={true}\r\n                 />\r\n                 <Button type=\"submit\" disabled={!formState.isValid}>\r\n                   UPDATE PLACE\r\n                 </Button>\r\n               </form>\r\n             )}\r\n      </>\r\n    );\r\n  \r\n};\r\n\r\nexport default UpdatePlace;\r\n","import React , {useReducer , useEffect} from 'react';\n\nimport './Input.css';\n\nimport { validate } from '../util/validators';\n\nconst inputReducer = (state , action)=>\n{\n  switch(action.type)\n  {\n    case 'CHANGE':\n      return{\n        ...state,\n        value : action.val,\n        isValid : validate(action.val , action.validators)\n      }\n    case 'TOUCH':\n      return{\n        ...state , isTouched : true\n      }\n    default:\n      return state;\n  }\n\n//   inputReducer: This function updates the input state based on the dispatched actions.\n\n// inputState: Holds the current state of the input (its value and validity).\n\n// dispatch: Function to send actions to update the state.\n\n// { value: '', isValid: false }: Initial state where the input field starts empty and invalid.\n\n};\n\nconst Input = props => {\n\n  const[inputState , dispatch ] = useReducer(inputReducer , {value:props.initialValue||'' , isValid:props.initialValid||false , isTouched:false});\n\n  const { id, onInput } = props;\n    const { value, isValid } = inputState;\n  \n    // ✅ useEffect ensures that the latest value & validity is sent to NewPlace.js\n  // ✅ onInput() calls InputHandler in NewPlace.js when input changes\n    useEffect(() => {\n      onInput(id, value, isValid)\n    }, [id, value, isValid, onInput]);\n\n  const changeHandler = event=>{\n    dispatch({type:'CHANGE' , val:event.target.value , validators:props.validators})\n  }\n\n  const touchHandler = ()=>\n  {\n    dispatch({\n      type:'TOUCH'\n    })\n  }\n\n  const element =\n    props.element === 'input' ? (\n      <input id={props.id} type={props.type} placeholder={props.placeholder} onChange={changeHandler}\n      onBlur={touchHandler}\n      value={inputState.value}/>\n    ) : (\n      <textarea id={props.id} rows={props.rows || 3} onChange={changeHandler}\n      value={inputState.value}\n      onBlur={touchHandler}/>\n      // onblur - when user click in or click out of the input\n    );\n\n  return (\n    <div className={`form-control ${!inputState.isValid && inputState.isTouched && 'form-control--invalid'}`}>\n      <label htmlFor={props.id}>{props.label}</label>\n      {element}\n      {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\n    </div>\n  );\n};\n\nexport default Input;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../../FormElements/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}// this !! basically converts anything to boolean if something in string so true else false \n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport Backdrop from './Backdrop';\r\nimport './Modal.css';\r\n\r\nconst ModalOverlay = props => {\r\n  const content = (\r\n    <div className={`modal ${props.className}`} style={props.style}>\r\n      <header className={`modal__header ${props.headerClass}`}>\r\n        <h2>{props.header}</h2>\r\n        <footer className={`modal__footer ${props.footerClass}`}>\r\n          {props.footer}\r\n        </footer>\r\n      </header>\r\n      <form\r\n        onSubmit={\r\n          props.onSubmit ? props.onSubmit : event => event.preventDefault()\r\n        }\r\n      >\r\n        <div className={`modal__content ${props.contentClass}`}>\r\n          {props.children}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n  return ReactDOM.createPortal(content, document.getElementById('modal-hook'));\r\n  // It uses ReactDOM.createPortal to render the modal outside the main app tree (inside #modal-hook).\r\n};\r\n\r\nconst Modal = props => {\r\n  return (\r\n    <React.Fragment>\r\n      {props.show && <Backdrop onClick={props.onCancel} />}\r\n      <CSSTransition\r\n        in={props.show}\r\n        mountOnEnter\r\n        unmountOnExit\r\n        timeout={200}\r\n        classNames=\"modal\"\r\n      >\r\n        <ModalOverlay {...props} />\r\n      </CSSTransition>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useCallback, useReducer } from 'react';\r\n\r\nconst formReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case 'INPUT_CHANGE':\r\n        let formIsValid = true;\r\n        \r\n        // Loop through all inputs to check overall form validity\r\n        for (const inputId in state.inputs) {\r\n\r\n          if(!state.inputs[inputId])\r\n          {\r\n            continue;\r\n          }\r\n          if (inputId === action.inputId) {\r\n            formIsValid = formIsValid && action.isValid;\r\n          } else {\r\n            formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n          }\r\n        }\r\n        \r\n        return {\r\n          ...state,\r\n          inputs: {\r\n            ...state.inputs,\r\n            [action.inputId]: { value: action.value, isValid: action.isValid }\r\n          },\r\n          isValid: formIsValid\r\n        };\r\n\r\n        case 'SET_DATA':\r\n          return{\r\n            inputs:action.inputs,\r\n            isValid:action.formIsValid\r\n          }\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n\r\nexport const useForm = (initialInputs , initialFormValidity) =>\r\n{\r\n    const [formState, dispatch] = useReducer(formReducer, {\r\n        inputs: initialInputs,\r\n        isValid:initialFormValidity\r\n      });\r\n \r\n      const inputHandler = useCallback((id, value, isValid) => {\r\n        // Function updates state when Input.js calls onInput\r\n        dispatch({\r\n          type: 'INPUT_CHANGE',\r\n          value: value,\r\n          isValid: isValid,\r\n          inputId: id\r\n        });\r\n      }, []);\r\n\r\n//  When we use useCallback, the function (inputHandler) is created only once when NewPlace.js first renders.\r\n\r\n// After that, the same function reference is reused every time NewPlace.js re-renders.\r\n\r\n// It does not create a new function on every re-render.\r\n\r\n// The function still works as expected because it always has access to the latest state updates.\r\n\r\n\r\n\r\n      const setFormData = useCallback((inputData , formVailidity)=>\r\n      {\r\n        dispatch(\r\n          {\r\n            type:'SET_DATA',\r\n            inputs: inputData,\r\n            formIsValid:formVailidity\r\n          }\r\n        )\r\n      } , [])\r\n\r\n      return [formState , inputHandler , setFormData];\r\n}","import { useState, useCallback, useRef, useEffect } from 'react';\n\nexport const useHttpClient = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState();\n\n  const activeHttpRequests = useRef([]);\n\n  const sendRequest = useCallback(\n    async (url, method = 'GET', body = null, headers = {}) => {\n      setIsLoading(true);\n      //AbortController cancels pending fetches when their component unmounts, to keep your app clean and safe.\n      const httpAbortCtrl = new AbortController();\n      activeHttpRequests.current.push(httpAbortCtrl);\n\n      try {\n        const response = await fetch(url, {\n          method,\n          body,\n          headers,\n          signal: httpAbortCtrl.signal\n        });\n\n        const responseData = await response.json();\n\n        activeHttpRequests.current = activeHttpRequests.current.filter(\n          reqCtrl => reqCtrl !== httpAbortCtrl\n        );\n\n        if (!response.ok) {\n          throw new Error(responseData.message);\n        }\n\n        setIsLoading(false);\n        return responseData;\n      } catch (err) {\n        setError(err.message);\n        setIsLoading(false);\n        throw err;\n      }\n    },\n    []\n  );\n\n  const clearError = () => {\n    setError(null);\n  };\n\n  useEffect(() => {\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\n    };\n  }, []);\n\n  return { isLoading, error, sendRequest, clearError };\n};\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n    }\n  }\n  return isValid;\n};\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };"],"names":["UpdatePlace","auth","useContext","AuthContext","isLoading","error","sendRequest","clearError","useHttpClient","loadedPlace","setLoadedPlace","useState","placeId","useParams","history","useHistory","formState","inputHandler","setFormData","useForm","title","value","isValid","description","useEffect","async","responseData","concat","process","place","err","fetchPlace","_jsx","className","children","LoadingSpinner","_jsxs","_Fragment","ErrorModal","onClear","onSubmit","event","preventDefault","JSON","stringify","inputs","Authorization","token","push","userId","Input","id","element","type","label","validators","VALIDATOR_REQUIRE","errorText","onInput","initialValue","initialValid","VALIDATOR_MINLENGTH","Button","disabled","Card","inputReducer","state","action","_objectSpread","val","validate","isTouched","props","inputState","dispatch","useReducer","changeHandler","target","touchHandler","placeholder","onChange","onBlur","rows","htmlFor","style","Modal","onCancel","header","show","footer","onClick","ModalOverlay","content","headerClass","footerClass","contentClass","ReactDOM","document","getElementById","React","Backdrop","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","formReducer","formIsValid","inputId","initialInputs","initialFormValidity","useCallback","inputData","formVailidity","setIsLoading","setError","activeHttpRequests","useRef","url","method","arguments","length","undefined","body","headers","httpAbortCtrl","AbortController","current","response","fetch","signal","json","filter","reqCtrl","ok","Error","message","forEach","abortCtrl","abort","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_EMAIL","validator","trim","test","_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperty","Object","defineProperty","enumerable","configurable","writable","ownKeys","keys","getOwnPropertySymbols","getOwnPropertyDescriptor","apply","_objectSpread2","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}